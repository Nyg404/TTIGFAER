# üöÄ TTIGFAER ‚Äî Spring-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è Telegram-–±–æ—Ç–æ–≤

# –ü—Ä–æ—à—É –ø—Ä–æ—â–µ–Ω–∏—è. –ù–æ –ø—Ä–æ–µ–∫—Ç –≤—Ä–µ–º–µ–Ω–Ω–æ –∑–∞–∫—Ä—ã—Ç. –°–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞—à –¢–µ–ª–µ–≥—Ä–∞–º–º-–ö–∞–Ω–∞–ª: [https://t.me/TTIGFAER](https://t.me/TTIGFAER)

–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ **TTIGFAER** ‚Äî –ª—ë–≥–∫–∏–π –∏ —É–¥–æ–±–Ω—ã–π Spring-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∏ –ø—Ä–æ—Å—Ç–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è Telegram-–±–æ—Ç–æ–≤!

> –í —ç—Ç–æ–º –∫—Ä–∞—Ç–∫–æ–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–µ –≤—ã –±—ã—Å—Ç—Ä–æ –Ω–∞—É—á–∏—Ç–µ—Å—å –ø–æ–¥–∫–ª—é—á–∞—Ç—å –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—Ä–µ–π–º–≤–æ—Ä–∫.

---

## üìö –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

> –ü–æ–¥—Ä–æ–±–Ω–µ–µ –Ω–∞ GitBook:  
> [https://fraemworktelegram.gitbook.io/ttigfaer](https://fraemworktelegram.gitbook.io/ttigfaer)

---

## 1Ô∏è‚É£ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

![Maven Central](https://img.shields.io/maven-central/v/io.github.nyg404/ttigfaer.svg)

–î–æ–±–∞–≤—å—Ç–µ –≤ –≤–∞—à `pom.xml`:

```xml
<dependency>
  <groupId>io.github.nyg404</groupId>
  <artifactId>ttigfaer</artifactId>
  <version>1.7-SNAPSHOT</version> <!-- –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é -->
</dependency>
```

---

## 2Ô∏è‚É£ –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞ –±–æ—Ç–∞

–°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å, –Ω–∞—Å–ª–µ–¥—É—é—â–∏–π `CustomBot`, –∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –µ–≥–æ –∫–∞–∫ Spring-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç:

```java
import org.springframework.context.annotation.Lazy;
import org.springframework.stereotype.Component;

@Component
public class PriorBot extends CustomBot {
    public PriorBot(BotSettings botSettings, @Lazy CommandManager commandManager) {
        super(botSettings, commandManager);
    }
}
```

---

## 3Ô∏è‚É£ –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥ —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏

TTIGFAER –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏** –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π –∏ –∫–æ–º–∞–Ω–¥ ‚Äî –±—ã—Å—Ç—Ä–æ –∏ —É–¥–æ–±–Ω–æ!

| –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è         | –û–ø–∏—Å–∞–Ω–∏–µ                                                                                   |
|-------------------|--------------------------------------------------------------------------------------------|
| `@Handler`        | –ü–æ–º–µ—á–∞–µ—Ç –º–µ—Ç–æ–¥ –∫–∞–∫ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è (–∫–æ–º–∞–Ω–¥–∞, —Å–æ–æ–±—â–µ–Ω–∏–µ, callback –∏ –¥—Ä.)                 |
| `@TAsync`         | –ó–∞–ø—É—Å–∫–∞–µ—Ç –º–µ—Ç–æ–¥ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ ‚Äî –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫                                 |
| `@TimeBot`        | –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç —á–∞—Å—Ç–æ—Ç—É –≤—ã–∑–æ–≤–∞ –º–µ—Ç–æ–¥–∞ (–ª–∏–º–∏—Ç—ã, –æ–∫–Ω–∞, –∑–∞–¥–µ—Ä–∂–∫–∏)                              |

---

### üî• –ü—Ä–∏–º–µ—Ä –∫–æ–º–∞–Ω–¥—ã —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏

```java
import io.github.nyg404.ttigfaer.api.Annotations.Handler;
import io.github.nyg404.ttigfaer.api.Annotations.TAsync;
import io.github.nyg404.ttigfaer.api.Annotations.TimeBot;
import io.github.nyg404.ttigfaer.core.Enum.HandlerType;

public class TestCommand extends CommandHelper {

    @Handler(HandlerType.ON_MESSAGE)                     // –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
    @Handler(HandlerType.ON_CALLBACK_QUERY)              // –û–±—Ä–∞–±–æ—Ç–∫–∞ callback-–∑–∞–ø—Ä–æ—Å–æ–≤
    @Handler(value = HandlerType.REGISTER_COMMAND, commands = {"–∞–±–æ–±–∞", "–∞–±–æ–±–∞1"}) // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥
    @TimeBot(limit = 1, limitWindows = 1, delay = 5)     // –õ–∏–º–∏—Ç: 1 –≤—ã–∑–æ–≤ –≤ 1 —Å–µ–∫., –∑–∞–¥–µ—Ä–∂–∫–∞ 5 —Å–µ–∫.
    @TAsync                                              // –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
    public void yourCommandMethod() {
        // –õ–æ–≥–∏–∫–∞ –∫–æ–º–∞–Ω–¥—ã
    }
}
```

---

## 4Ô∏è‚É£ –û–ø–∏—Å–∞–Ω–∏–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π

### üìå `@Handler`

–ü–æ–∑–≤–æ–ª—è–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã —Å–æ–±—ã—Ç–∏–π:

| –¢–∏–ø —Å–æ–±—ã—Ç–∏—è                      | –û–ø–∏—Å–∞–Ω–∏–µ                                              |
|---------------------------------|-------------------------------------------------------|
| `REGISTER_COMMAND`               | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `/start`)                |
| `ON_MESSAGE`                    | –û–±—Ä–∞–±–æ—Ç–∫–∞ –ª—é–±—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π                              | |
| `ON_CALLBACK_QUERY`             | –û–±—Ä–∞–±–æ—Ç–∫–∞ callback-–∑–∞–ø—Ä–æ—Å–æ–≤ –æ—Ç Inline-–∫–Ω–æ–ø–æ–∫          |
| `RESPOND_TO_BOT_MESSAGE`        | –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –±–æ—Ç–∞                    |

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**

- `value` ‚Äî —Ç–∏–ø —Å–æ–±—ã—Ç–∏—è (`HandlerType`)
- `commands` ‚Äî —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥ (–¥–ª—è `REGISTER_COMMAND`)
- `callBack` ‚Äî —Å—Ç—Ä–æ–∫–∞ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ callback-–∑–∞–ø—Ä–æ—Å–∞
- `filters` ‚Äî –º–æ–∂–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã (–¥–ª—è `ON_MESSAGE`)

**–ü—Ä–∏–º–µ—Ä:**

```java
@Handler(value = HandlerType.REGISTER_COMMAND, commands = {"start"})
public void onStart(MessageContext ctx) {
    ctx.sendMessage("–ü—Ä–∏–≤–µ—Ç! –Ø –±–æ—Ç.");
}
```

---

### ‚ö° `@TAsync`

–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–µ—Ç–æ–¥–∞ ‚Äî –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –¥–æ–ª–≥–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π, —á—Ç–æ–±—ã –Ω–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫.

```java
@TAsync
@Handler(HandlerType.ON_MESSAGE)
public void onAnyMessage(MessageContext ctx) {
    // –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
}
```

---

### ‚è≥ `@TimeBot`

–û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç —á–∞—Å—Ç–æ—Ç—É –≤—ã–∑–æ–≤–æ–≤ –º–µ—Ç–æ–¥–∞ (—á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —Å–ø–∞–º–∞):

| –ü–∞—Ä–∞–º–µ—Ç—Ä     | –û–ø–∏—Å–∞–Ω–∏–µ                         |
|--------------|----------------------------------|
| `limit`      | –ú–∞–∫—Å–∏–º—É–º –≤—ã–∑–æ–≤–æ–≤ –≤ –æ–∫–Ω–µ          |
| `limitWindows` | –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–∫–Ω–∞ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö    |
| `delay`      | –ó–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º (—Å–µ–∫) |

–ü—Ä–∏–º–µ—Ä: 1 –≤—ã–∑–æ–≤ –≤ 1-—Å–µ–∫—É–Ω–¥–Ω–æ–º –æ–∫–Ω–µ, —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π 5 —Å–µ–∫—É–Ω–¥:

```java
@TimeBot(limit = 1, limitWindows = 1, delay = 5)
public void limitedCommand(MessageContext ctx) {
    ctx.sendMessage("–ö–æ–º–∞–Ω–¥–∞ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º —á–∞—Å—Ç–æ—Ç—ã.");
}
```

---

## 5Ô∏è‚É£ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è `application.yml`

```yaml
bot:
  token: "–í–ê–®_–¢–û–ö–ï–ù_–ë–û–¢–ê"
  prefix: "/"  # –ü—Ä–µ—Ñ–∏–∫—Å –∫–æ–º–∞–Ω–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "/")

ttigfaer:
  async:
    thread-name-prefix: –ø—Ä–µ—Ñ–∏–∫—Å  # –ü—Ä–µ—Ñ–∏–∫—Å –¥–ª—è –∏–º—ë–Ω –ø–æ—Ç–æ–∫–æ–≤
    core-pool-size: 5            # –ú–∏–Ω–∏–º—É–º –ø–æ—Ç–æ–∫–æ–≤
    max-pool-size: 10            # –ú–∞–∫—Å–∏–º—É–º –ø–æ—Ç–æ–∫–æ–≤
    queue-capacity: 50           # –í–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –æ—á–µ—Ä–µ–¥–∏ –∑–∞–¥–∞—á
```

---

## üí° –°–æ–≤–µ—Ç—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `@TAsync` –¥–ª—è —Ç—è–∂—ë–ª—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π ‚Äî —á—Ç–æ–±—ã –Ω–µ —Ç–æ—Ä–º–æ–∑–∏—Ç—å –±–æ—Ç–∞.
- –ü—Ä–∏–º–µ–Ω—è–π—Ç–µ `@TimeBot` –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç —Å–ø–∞–º–∞ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤—ã–∑–æ–≤–æ–≤.
- –†–∞–∑–¥–µ–ª—è–π—Ç–µ –ª–æ–≥–∏–∫—É –ø–æ —Ç–∏–ø–∞–º —Å–æ–±—ã—Ç–∏–π —Å –ø–æ–º–æ—â—å—é —Ä–∞–∑–Ω—ã—Ö `HandlerType`.
- –û–±—ä–µ–¥–∏–Ω—è–π—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –∫–æ–º–∞–Ω–¥ –≤ –æ–¥–Ω–æ–º –º–µ—Ç–æ–¥–µ —Å `@Handler(value = HandlerType.REGISTER_COMMAND, commands = {...})`.
- –°–ª–µ–¥–∏—Ç–µ –∑–∞ –Ω–æ–≤–æ—Å—Ç—è–º–∏ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏ –≤ –Ω–∞—à–µ–º —Ç–µ–ª–µ–≥—Ä–∞–º-–∫–∞–Ω–∞–ª–µ: [https://t.me/TTIGFAER](https://t.me/TTIGFAER)

---

–°–ø–∞—Å–∏–±–æ, —á—Ç–æ –≤—ã–±—Ä–∞–ª–∏ **TTIGFAER!**  
–ï—Å–ª–∏ –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è ‚Äî –≤—Å–µ–≥–¥–∞ —Ä–∞–¥—ã –ø–æ–º–æ—á—å! üôå